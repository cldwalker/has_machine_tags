<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Module: HasMachineTags::TagMethods [RDoc Documentation]</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <link href='../.././rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Module</span>
          HasMachineTags::TagMethods
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../files/lib/has_machine_tags/tag_methods_rb.html">lib/has_machine_tags/tag_methods.rb</a>
          </li>
        </ol>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <h2>Machine Tags</h2>
            <p>
            Machine tags, also known as triple tags, are in the format:
            </p>
            <pre>[namespace]:[predicate]=[value]</pre>
            <p>
            As explained <a
            href="http://www.flickr.com/groups/api/discuss/72157594497877875">here</a>,
            a namespace and predicate must start with a letter a-z while its remaining
            characters can be any lowercase alphanumeric character and underscore. A
            value can contain any characters that normal tags use.
            </p>
            <h2>Wildcard Machine Tags</h2>
            <p>
            Wildcard machine tag syntax is used with Tag.machine_tags() and <a
            href="Finder.html">tagged_with() or find_tagged_with()</a> of tagged
            objects. This syntax allows one to fetch items that fall under a group of
            tags, as specified by namespace, predicate, value or a combination of these
            ways. While this plugin supports <a
            href="http://code.flickr.com/blog/2008/07/18/wildcard-machine-tag-urls/">Flickr's
            wildcard format</a>, it also supports its own slightly shorter format.
            </p>
            <h3>Examples</h3>
            <p>
            For a tag &#8216;user:name=john&#8217;, the following wildcards would match
            it:
            </p>
            <ul>
            <li>Wild namespace (any tag with namespace user)
            
            <pre>Tag.machine_tags 'user:'   # Our way&#x000A;Tag.machine_tags 'user:*=' # Flickr way</pre>
            </li>
            <li>Wild predicate (any tag with predicate name)
            
            <pre>Tag.machine_tags 'name='   # Our way&#x000A;Tag.machine_tags '*:name=' # Flickr way</pre>
            </li>
            <li>Wild predicate (any tag with value john)
            
            <pre>Tag.machine_tags '=john'    # Our way&#x000A;Tag.machine_tags '*:*=john' # Flickr way</pre>
            </li>
            <li>Wild namespace and predicate (any tag with namespace user and predicate
            name)
            
            <pre>Tag.machine_tags 'user:name'  # Our way&#x000A;Tag.machine_tags 'user:name=' # Flickr way</pre>
            </li>
            <li>Wild predicate and value (any tag with predicate name and value john)
            
            <pre>Tag.machine_tags 'name=john'   # Our way&#x000A;Tag.machine_tags '*:name=john' # Flickr way</pre>
            </li>
            <li>Wild namespace and value (any tag with namespace user and value john)
            
            <pre>Tag.machine_tags 'user.john'   # Our way&#x000A;Tag.machine_tags 'user:*=john' # Flickr way</pre>
            </li>
            </ul>
            <h2>Food For Thought</h2>
            <p>
            So what&#8217;s so great about being able to give a tag a namespace and a
            predicate?
            </p>
            <ul>
            <li>It allows for more fine-grained tag queries by giving multiple contexts:
            
            <p>
            Say instead of having tagged with &#8216;user:name=john&#8217; we had
            tagged with the traditional separate tags: user, name and john. How would
            we know that we had meant an item to be tagged as a user ie with namespace
            user? We wouldn&#8217;t know. Any query for &#8216;user&#8217; would return
            all user-tagged items <b>without context</b>. With machine tags, we can
            have &#8216;user&#8217; refer to a particular combination of namespace,
            predicate and value.
            </p>
            </li>
            <li>It keeps tag-spaces cleaner because there are more contexts:
            
            <p>
            With traditional separate tags, tags just have a global context. So if
            different users decide to give different meaning to the same tag, the tag
            starts to become polluted and loses its usefulness. With the limitless
            contexts provided by machine tags, a machine tag is less likely to pollute
            other tags.
            </p>
            </li>
            <li>It allows tagging to serve as a medium for defining relationships between
            objects:
            
            <p>
            Since a machine tag tracks three attributes (namespace, predicate and
            value), it&#8217;s possible to develop relationships between the
            attributes. This means namespaces can have many predicates and predicates
            can have many values. Since this closely resembles object modeling, we can
            start to use tagging to form relationships between tagged items and other
            objects.
            </p>
            </li>
            </ul>
          </div>
          <div id='section'>
            <div id='class-list'>
              <h2>Classes and Modules</h2>
              Module <a href="TagMethods/ClassMethods.html" class="link">HasMachineTags::TagMethods::ClassMethods</a><br />
              Module <a href="TagMethods/InstanceMethods.html" class="link">HasMachineTags::TagMethods::InstanceMethods</a><br />
            </div>
            <div id='constants-list'>
              <h2>Constants</h2>
              <div class='name-list'>
                <table summary='Constants'>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>NAMESPACE_REGEX</td>
                    <td>=</td>
                    <td class='context-item-value'>&quot;[a-z](?:[a-z0-9_]+)&quot;</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>PREDICATE_REGEX</td>
                    <td>=</td>
                    <td class='context-item-value'>&quot;[a-z](?:[a-z0-9_-]+)&quot;</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>VALUE_REGEX</td>
                    <td>=</td>
                    <td class='context-item-value'>'.+'</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>PREDICATE_DELIMITER</td>
                    <td>=</td>
                    <td class='context-item-value'>':'</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'>
                      
                      TODO: use delimiters in this file
                    </td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>VALUE_DELIMITER</td>
                    <td>=</td>
                    <td class='context-item-value'>'='</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
